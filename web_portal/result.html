<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Test Result</title>
<link rel='stylesheet' href='style.css'>
</head>
<body>
<header><h1>FUD Test Result</h1></header>
<main>
  <p id='res'></p>
  <a href='complaint.html'>Submit Complaint</a>
</main>
<footer>© 2025 Federal University Dutse | Powered by Ahmad Tech</footer>
<script type='module'>
import { db, ref, get, child } from './firebase-config.js';

const reg = sessionStorage.getItem('regNumber');
if (!reg) window.location.href='index.html';
const dbRef = ref(db);
get(child(dbRef, 'results/' + reg)).then(snap => {
  if (snap.exists()) {
    document.getElementById('res').innerText = 
      '✅ Reg: ' + reg + ' | Score: ' + snap.val().score + '%';
  } else {
    document.getElementById('res').innerText = 'No result found.';
  }
});
</script>
</body>
</html>
